#!/usr/bin/env php
<?php

if (file_exists(__DIR__.'/../../../autoload.php')) {
    require __DIR__.'/../../../autoload.php';
} else {
    require __DIR__.'/../vendor/autoload.php';
}

use Javanile\Define\Application;
use Javanile\Define\ConsoleOutput;
use Javanile\Define\DefineCommand;

$app = new Application();
$cmd = new DefineCommand();
$out = new ConsoleOutput();

$app->add($cmd);

$app->setDefaultCommand($cmd->getName(), true);

try {
    $app->run(null, $out);
} catch (Exception $e) {
    $out->error($e->getMessage(), 3);
}
